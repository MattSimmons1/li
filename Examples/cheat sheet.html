<script src='https://li.js.org/li.js'></script>
<script src='https://d3js.org/d3.v5.min.js'></script>
# li.js Cheat Sheet

All li.js functionality is shown on this page. Everything in this document will still work without web hosting. It can be downloaded (via the button in the top right), edited as Markdown in any plain text editor (such as Notepad++), and displayed as a web page when opened in a modern web browser.



/// ///



# Markdown

Markdown is a lightweight markup language with plain text formatting syntax. It's easy to read and easy to write.

Text in markdown is automatically put into paragraphs, so you don't need to add line breaks to make text fit on the page.



/// ///



### Headers

    # Header 1
    ## Header 2
    ### Header 3
    #### Header 4
    ##### Header 5
    ###### Header 6

# Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

    Alternate Header 1
    ==================

    Alternate Header 2
    ------------------

Alternate Header 1
============

Alternate Header 2
------------



/// ///



### Bold and Italics

    _this is italic_, and *so is this*
    __this is bold__, and **so is this**
    _**this is both bold and italic**_

_this is italic_, and *so is this*
__this is bold__, and **so is this**
_**this is both bold and italic**_



/// ///



### Strikethrough

    ~~put a line through text like this~~

~~put a line through text like this~~



/// ///



### Lists

    Shopping
    - bananas
    - tomatoes
    - grapes
      - red grapes
      - green grapes
    - peaches

Shopping
- bananas
- tomatoes
- grapes
  - red grapes
  - green grapes
- peaches

/// ///

### Ordered Lists

    The Four Steps to Success
    1. make some notes
    2. put li.js import at the top
    3. add markdown syntax
    4. save as .html

The Four Steps to Success
1. make some notes
2. put li.js import at the top
3. add markdown syntax
4. save as .html

/// ///

### Checklists

    To Do
    - [x] walk the dog
    - [x] feed the cat
    - [ ] find the unicorn

To Do
- [x] walk the dog
- [x] feed the cat
- [ ] find the unicorn



/// ///



### Links

    [inline hyperlink](https://www.example.com)

[inline hyperlink](https://www.example.com)



/// ///



### Inline Code

    Write `inline code` with `back-ticks`.

Write `inline code` with `back-ticks`.

/// ///

### Code Blocks

    make a block of code by indenting with a tab or four spaces and leaving a blank line underneath:

        function example(f) {
            return "I like recursion, because " + f(f);
        }
        console.log(example(example));


make a block of code by indenting with a tab or four spaces and leaving a blank line underneath:

    function example(f) {
        return "I like recursion, because " + f(f);
    }
    console.log(example(example));

///

Alternatively use three back ticks so you don't have to indent every line. Note that if the code is longer than the box the user can scroll to the side to see the full code.

    My amazing function:
    ```
    window.addEventListener('mousemove', function(e){
        var red = 255 * e.clientX/window.innerWidth;
        var blue = 255 * e.clientY/window.innerHeight;
        document.querySelector("body").style.background = `rgb(${red},0,${blue})` });
    ```

My amazing function:
```
window.addEventListener('mousemove', function(e){
    var red = 255 * e.clientX/window.innerWidth;
    var blue = 255 * e.clientY/window.innerHeight;
    document.querySelector("body").style.background = `rgb(${red},0,${blue})` });
```



/// ///



### Emoji

Reference an emoji with its short code. Note: Emojis may not work if there are no other unicode symbols in the document. This can be fixed by adding a \§ (or any other unicode symbol) anywhere in the document. Also, be aware that emojis look different on different operating systems.

    :smile: :dog: :bulb: :house: :joy:

:smile: :dog: :bulb: :house: :joy:


/// /// ///



# li.js Syntax

The following syntax is specific to li.js.



/// ///



### Spacers

Make a small spacer (1/10th of the page height) with:

```
\///
```

Make a large spacer (1/2 the page height) with:

```
\///\///
```



/// ///



### Text Colour

    Colour inline text with \( #b13f35: hex ) \( #46f: codes ) or \( rgb(113, 187, 32): rgb ).

Colour inline text with ( #b13f35: hex ) ( #46f: codes ) or ( rgb(113, 187, 32): rgb ).



/// ///



### \§

\§ is a shortcut for a non-breaking space. It can be typed with _**Alt + 1 + 2**_ on Windows. It's useful for forcing text to be spaced out (because the browser removes extra spaces) and can help in cases where normal spaces cause Markdown to break.

    start
    \§ |
    \§ V
    finish

start
§ |
§ V
finish



/// ///



### Arrows

    --> <-- <--> <->
    ==> <== <==> <=>

--> <-- <--> <->
==> <== <==> <=>



/// /// ///



# li.js Functions

li.js functions can do some pretty amazing things. They are used by typing an _@_ followed by the function name on either the same line or line above the text to be transformed. Some function also use brackets and can be used within a paragraph.



/// ///



### li.big

    \@li.big Hello!

@li.big Hello!



/// ///



### li.centre

li.centre can be used to centre a single line of text or multiple lines if brackets are used. It is especially useful for centering HMTL, like an embedded tweet, that would otherwise be aligned with the left margin.

    \@li.centre This text is centred

@li.centre This text is centred

    \@li.centre(
    &lt;blockquote class="twitter-tweet" data-lang="en">&lt;p lang="en" dir="ltr">SpaceX option package for new Tesla Roadster will include ~10 small rocket thrusters arranged seamlessly around car. These rocket engines dramatically improve acceleration, top speed, braking &amp; cornering. Maybe they will even allow a Tesla to fly …&lt;/p>mdash; Elon Musk (@elonmusk) &lt;a href="https://twitter.com/elonmusk/status/1005577738332172289?ref_src=twsrc%5Etfw">June 9, 2018&lt;/a>&lt;/blockquote>
    &lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8">&lt;/script>
    )

@li.centre(
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">SpaceX option package for new Tesla Roadster will include ~10 small rocket thrusters arranged seamlessly around car. These rocket engines dramatically improve acceleration, top speed, braking &amp; cornering. Maybe they will even allow a Tesla to fly …</p>&mdash; Elon Musk (@elonmusk) <a href="https://twitter.com/elonmusk/status/1005577738332172289?ref_src=twsrc%5Etfw">June 9, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
)



/// ///



### li.font

li.font imports the font specified and sets it for the _entire_ document. It takes either one or two arguments. The first is the name of the font, and the second is the import url. The url is not needed if the font is from [Google Fonts](https://fonts.google.com/).

Below a new font is imported and set for the entire document, then the default font is restored (Source Code Pro), and inline HTML is used to set the font for a single paragraph.

    \@li.font(Permanent Marker)
    \@li.font(Source Code Pro)
    &lt;span style="font-family: 'Permanent Marker'"&gt;Hello there,&lt;br&gt;
    I changed the font.&lt;/span&gt;

@li.font(Permanent Marker)
@li.font(Source Code Pro)
<span style="font-family: 'Permanent Marker'">Hello there,<br>
I changed the font.</span>


/// ///



### li.table

li.table can be used with comma separated values (CSV) and tab separated values (TSV), which means you can copy and paste most tables into your text editor and they'll work without reformatting.

    \@li.table
    Month,Location,Profit
    2018-10,London,134.05
    2018-10,New York,<#f00:-23.45>
    2018-11,London,154.60
    2018-11,New York,243.23
    2018-12,London,294.33
    2018-12,New York,324.32
    2019-01,London,243.03
    2019-01,New York,144.23
    2019-01,Tokyo,145.20

@li.table
Month,Location,Profit
2018-10,London,134.05
2018-10,New York,<#f00:-23.45>
2018-11,London,154.60
2018-11,New York,243.23
2018-12,London,294.33
2018-12,New York,324.32
2019-01,London,243.03
2019-01,New York,144.23
2019-01,Tokyo,145.20



/// ///



### li.tooltip

    Tooltips can be used to add \@li.tooltip(more information: like this) in the middle of a paragraph.

Tooltips can be used to add @li.tooltip(more information: like this) in the middle of a paragraph.


/// ///



### li.YouTube

Embed a YouTube video with the video ID and a width in pixels. The video ID is the short string of letters and numbers in the url, e.g. in youtube.com/watch?v=**y8Kyi0WNg40** it would be **y8Kyi0WNg40**. The width can also be set to 'full' to make the video full screen.

    \@li.YouTube(y8Kyi0WNg40, 630)

@li.YouTube(y8Kyi0WNg40, 630)


/// ///



# li.js + D3 Functions

li.js can be combined with the JavaScript library [D3.js](https://d3js.org) to make interactive data visualisations. These functions require D3 to be imported at the top of the page with a tag like this:

    &lt;script src='https://d3js.org/d3.v5.min.js'&gt;&lt;/script&gt;



/// ///



### li.d3.bar-chart

Creates a bar chart from @li.tooltip(CSV:comma separated values) or @li.tooltip(TSV:tab separated values) formatted text. The first column must contain the label for each bar. The other columns provide the values given to each bar. If there are multiple columns of values they can be transitioned between by **clicking** on the chart. An optional colour (or color) column can be added to set a colour for each bar.

    \@li.d3.bar-chart
    Month, 2018 profits (£M), 2017 profits (£M), colour
    J, 10, 8
    F, 12, 11
    M, 7,  5
    A, 2,  1, #f33
    M, 6,  3
    J, 8,  13
    J, 12, 6
    A, 11, 11
    S, 18, 13
    O, 10, 14
    N, 24, 18
    D, 42, 24

@li.d3.bar-chart
Month, 2018 profits (£M), 2017 profits (£M), colour
J, 10, 8
F, 12, 11
M, 7,  5
A, 2,  1, #f33
M, 6,  3
J, 8,  13
J, 12, 6
A, 11, 11
S, 18, 13
O, 10, 14
N, 24, 18
D, 42, 24



/// ///



### li.d3.tree

Converts data on the lines below to a tree diagram. The spaces before each node indicate it's depth in the hierarchy (one space per level). The implementation is identical to Mike Bostock's [Tree-o-Matic](https://beta.observablehq.com/@mbostock/tree-o-matic).

    \@li.d3.tree
    Life
     Eukaryota
      Excavata
      Amoebozoa
      Opisthokonta
       Holomycota
        Fungi
         Nucleariida
         chytrids
         microsporidia
         ...

@li.d3.tree
Life
 Eukaryota
  Excavata
  Amoebozoa
  Opisthokonta
   Holomycota
    Fungi
     Nucleariida
     chytrids
     microsporidia
     Hyaloraphidium
     Fonticula
     Rozellida
    Holozoa
     Mesomycetozoea
      Dermocystida
      Ichthyophonida
      Eccrinales
      Amoebidiales
     Corallochytrium
     Filozoa
      Filasterea
      Choanoflagellata
      Animalia
  Rhizaria
  Chromalveolata
  Archaeplastida
 Bacteria
  Acidobacteria
  Actinobacteria
  Aquificae
 Archaea
  Euryarchaeota
  DPANN
  Proteoarchaeota




/// ///



### li.d3.cluster

    \@li.d3.cluster
    The British Isles
     United Kingdom
      England
       Isle of Wight
       Isle of Sheppey
       Hayling Island
       ...

@li.d3.cluster
The British Isles
 United Kingdom
  England
   Isle of Wight
   Isle of Sheppey
   Hayling Island
   Foulness Island
   Portsea Island
   Canvey Island
   Mersea Island
   Walney Island
   Lundy
   Thorney Island
   Isles of Scilly
    St Mary's
    Tresco
    St Martin's
    St Agnes
    Bryher
  Great Britain
  Scotland
   Outer Hebrides
    Lewis and Harris
    South Uist
    North Uist
    Benbecula
    Barra
    Great Bernera
   Inner Hebrides
    Skye
    Mull
    Islay
    Jura
    Tiree
    Coll
    Raasay
    Colonsay
    Scalpay
    Lismore
    Ulva
   Shetland Islands
    Shetland Mainland
    Yell
    Unst
    Fetlar
    Bressay
    Muckle Roe
    Whalsay
   Orkney Islands
    Orkney Mainland
    Hoy
    Sanday
    South Ronaldsay
    Rousay
    Westray
    Stronsay
    Shapinsay
    Eday
   Firth of Clyde
    Arran
    Bute
    Great Cumbrae
   Small Isles
    Rùm
    Eigg
  Wales
   Anglesey
    Anglesey
    Holy Island
   Bardsey Island
 Ireland
 Republic of Ireland
  Achill Island
  Inishmore
  Gorumna
 Isle of Man
  Isle of Man
  Calf of Man



/// ///



### li.d3.radial-tree

Exactly the same as li.d3.tree, except the level of each node is indicated by the radial distance from the root node.

    \@li.d3.radial-tree
    ABCU
     Air Bud
      Air Bud
      Golden Receiver
      World Pup
      Seventh Inning Fetch
      Spikes Back
     Air Buddies
      Snow Buddies
      Space Buddies
      Santa Buddies
      Spooky Buddies
      Treasure Buddies
      Super Buddies
     Santa Paws
      The Search for Santa Paws
      Santa Paws 2: The Santa Pups
     MVP
      MVP: Most Valuable Primate
      MVP 2: Most Vertical Primate
      MXP: Most Xtreme Primate

@li.d3.radial-tree
ABCU
 Air Bud
  Air Bud
  Golden Receiver
  World Pup
  Seventh Inning Fetch
  Spikes Back
 Air Buddies
  Snow Buddies
  Space Buddies
  Santa Buddies
  Spooky Buddies
  Treasure Buddies
  Super Buddies
 Santa Paws
  The Search for Santa Paws
  Santa Paws 2: The Santa Pups
 MVP
  MVP: Most Valuable Primate
  MVP 2: Most Vertical Primate
  MXP: Most Xtreme Primate



/// ///



### li.d3.sankey

Creates a sankey diagram from @li.tooltip(CSV:comma separated values) or @li.tooltip(TSV:tab separated values) formatted text, where each row represents a link between two nodes of the sankey. The _source_ and _target_ should be the names of two different items that are linked by a line of thickness proportional to the _value_. Each link can be given a colour with an optional fourth colour (or color) column.

    \@li.d3.sankey
    source, target, value, colour
    big company, tech start up, 1, blue
    angel investor, tech start up, 1.5, blue
    angel investor, consulting firm, .5
    medium company, tech start up, 0.3, blue
    medium company, ad agency, 0.3
    medium company, consulting firm, 2
    small company, tech start up, 0.5, blue
    small company, supplier, 1
    big company, ad agency, 0.6
    big company, supplier, 4

§

@li.d3.sankey
source, target, value, colour
big company, tech start up, 1, blue
angel investor, tech start up, 1.5, blue
angel investor, consulting firm, .5
medium company, tech start up, 0.3, blue
medium company, ad agency, 0.3
medium company, consulting firm, 2
small company, tech start up, 0.5, blue
small company, supplier, 1
big company, ad agency, 0.6
big company, supplier, 4

§
§

The same node can be the source and target of multiple paths.

    \@li.d3.sankey
    source, target, value
    A,B,1
    A,C,1
    A,D,2
    D,E,2
    C,E,0.75
    C,F,0.25
    B,F,0.5
    B,G,0.5
    G,H,0.25
    F,H,0.25
    G,I,0.25
    F,I,0.5
    E,H,1.75
    E,I,1

§
§

@li.d3.sankey
source, target, value
A,B,1
A,C,1
A,D,2
D,E,2
C,E,0.75
C,F,0.25
B,F,0.5
B,G,0.5
G,H,0.25
F,H,0.25
G,I,0.25
F,I,0.5
E,H,1.75
E,I,1



/// ///